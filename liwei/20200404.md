- date: 20200331 
- author: liwei

## Plan

- [x] tensorflow control flow

## Notes

在tensorflow中，控制流的高级api为两种形式，分别是tf.cond和tf.while_loop。这两个api的具体实现，在tensorflow1.0版本和tensorflow2.0版本是完全不一样的。在v2版本中，基本的操作变成了if和while。
v1的底层为之前说的五种基本operation, switch, merge, enter, exit, nextiteration。
而在v2版本，实现是类似函数式的。v2版本更容易理解，更容易硬件集成，但是v1版本则更为容易进行优化，v2的版本可以lowering成v1版本。
在训练中，需要重点关注，中间结果如何存储，梯度如何进行传递。

在控制流中，tensorArray也是需要我们重点关注的点。其本质就是一个tensor的数组。

宏观上说，这个control flow的构建过程是：tensorflow api -> graph api -> graph ops。

## More

控制流参考 [Inside tensorflow](https://www.youtube.com/watch?v=IzKXEbpT9Lg)
